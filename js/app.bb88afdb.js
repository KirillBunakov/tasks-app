(function(){"use strict";var t={2798:function(t,a,s){var e=s(5130),n=s(6768);const o={class:"navbar"},r=(0,n.Lk)("h1",null,"Freelance",-1),u={class:"navbar-menu"},i={key:1,class:"container with-nav"};function l(t,a,s,e,l,k){const c=(0,n.g2)("router-link"),d=(0,n.g2)("app-loader"),p=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",o,[r,(0,n.Lk)("ul",u,[(0,n.Lk)("li",null,[(0,n.bF)(c,{to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("Все задачи")])),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(c,{to:"/create"},{default:(0,n.k6)((()=>[(0,n.eW)("Создать")])),_:1})])])]),l.loader?((0,n.uX)(),(0,n.Wv)(d,{key:0})):((0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(p,{tasks:l.tasks,onAdd:k.createTask,activeCount:l.activeCount},null,8,["tasks","onAdd","activeCount"])]))])}s(4114);var k=s(4373),c=s(8836);const d={class:"loader"};function p(t,a){return(0,c.uX)(),(0,c.CE)("div",d,"Loading...")}var h=s(1241);const v={},f=(0,h.A)(v,[["render",p]]);var m=f,b={data(){return{tasks:[],name:"",taskStatus:"smallprimary",taskDate:"",taskContent:"",activeCount:0,loader:!1}},methods:{async loadTasks(){try{this.loader=!0;const{data:t}=await k.A.get("https://vuecreatetask-default-rtdb.firebaseio.com/tasks.json");this.tasks=Object.keys(t).map((a=>({id:a,taskName:t[a].taskName,taskStatus:t[a].taskStatus,taskDate:t[a].taskDate.split("-").reverse().join("."),taskContent:t[a].taskContent}))),this.activeCount=0;for(let a=0;a<this.tasks.length;a++)"smallprimary"===this.tasks[a].taskStatus&&this.activeCount++;this.loader=!1}catch(t){console.log(t.message),this.loader=!1}},async createTask(t,a,s,e){const n=await fetch("https://vuecreatetask-default-rtdb.firebaseio.com/tasks.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskName:t,taskStatus:this.taskStatus,taskDate:a,taskContent:s})}),o=await n.json();this.tasks.push({taskName:t,id:o.name,taskStatus:this.taskStatus,taskDate:a}),this.$router.push("/"),this.loadTasks()}},mounted(){this.loadTasks()},provide(){return{}},components:{AppLoader:m}};const C=(0,h.A)(b,[["render",l]]);var g=C,y=s(1387);const L={class:"container with-nav"},S={class:"card"},w=(0,n.Lk)("h1",null,"Создать новую задачу",-1),_={action:"",class:"form-control"},N=(0,n.Lk)("label",{for:"taskName"},"Название задачи",-1),j=(0,n.Lk)("label",{for:"taskDate"},"Дата дэдлайна",-1),D=(0,n.Lk)("label",{for:"taskContent"},"Описание",-1),I=["disabled"];function E(t,a,s,o,r,u){return(0,n.uX)(),(0,n.CE)("div",L,[(0,n.Lk)("div",S,[w,(0,n.Lk)("form",_,[N,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"taskName","onUpdate:modelValue":a[0]||(a[0]=t=>r.inputName=t),placeholder:"Введите название задачи"},null,512),[[e.Jo,r.inputName]]),j,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=t=>r.inputDate=t),id:"taskDate"},null,512),[[e.Jo,r.inputDate]]),D,(0,n.bo)((0,n.Lk)("textarea",{id:"taskContent","onUpdate:modelValue":a[2]||(a[2]=t=>r.inputContent=t),placeholder:"Введите описание задачи"},null,512),[[e.Jo,r.inputContent]])]),(0,n.Lk)("button",{class:"btn primary",onClick:a[3]||(a[3]=a=>t.$emit("add",r.inputName,r.inputDate,r.inputContent)),disabled:r.inputName.length<=3||r.inputContent.length<10||""===r.inputDate},"Создать",8,I)])])}var A={emits:["add"],data(){return{inputName:"",inputDate:"",inputContent:""}}};const O=(0,h.A)(A,[["render",E]]);var F=O,X=s(4232);const T=t=>((0,n.Qi)("data-v-2a4eb6f4"),t=t(),(0,n.jt)(),t),W={class:"container with-nav"},x={class:"tasks-title"},$={class:"task_header"},P=T((()=>(0,n.Lk)("hr",null,null,-1))),J=T((()=>(0,n.Lk)("button",{class:"btn primary"},"Посмотреть",-1))),Q={key:0,class:"card"},U=T((()=>(0,n.Lk)("p",null,"Добавьте первую заметку",-1))),M=T((()=>(0,n.Lk)("button",{class:"btn"},"Создать",-1)));function V(t,a,s,e,o,r){const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",W,[(0,n.Lk)("h2",x,"Всего активных задач: "+(0,X.v_)(s.activeCount),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.tasks,(a=>((0,n.uX)(),(0,n.CE)("div",{class:"card",key:a.id},[(0,n.Lk)("div",$,[(0,n.Lk)("h2",null,(0,X.v_)(a.taskName),1),(0,n.Lk)("button",{class:(0,X.C4)(["btn",a.taskStatus])},(0,X.v_)("smallwarning"===a.taskStatus?"Выполняется":"smalldanger"===a.taskStatus?"Отменен":"smalldone"===a.taskStatus?"Завершен":"Активен"),3)]),P,(0,n.Lk)("small",null,[(0,n.Lk)("p",null,(0,X.v_)(a.taskDate),1)]),(0,n.bF)(u,{to:"/task/"+a.id,taskId:t.$route.params.id},{default:(0,n.k6)((()=>[J])),_:2},1032,["to","taskId"])])))),128)),0===s.tasks.length?((0,n.uX)(),(0,n.CE)("div",Q,[U,(0,n.bF)(u,{to:"/create"},{default:(0,n.k6)((()=>[M])),_:1})])):(0,n.Q3)("",!0)])}var R={props:["tasks","activeCount"],data(){return{}},computed:{},components:{},beforeRouteUpdate(t,a,s){console.log(t),console.log(a),s()}};const q=(0,h.A)(R,[["render",V],["__scopeId","data-v-2a4eb6f4"]]);var G=q;const K=t=>((0,n.Qi)("data-v-54d43cee"),t=t(),(0,n.jt)(),t),z={key:0,class:"card"},B=K((()=>(0,n.Lk)("strong",null,"Описание: ",-1))),H={key:1};function Y(t,a,s,e,o,r){const u=(0,n.g2)("NotFound");return r.task?((0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("h2",null,(0,X.v_)(r.task.taskName),1),(0,n.Lk)("p",null,[(0,n.eW)("Статус:  "),(0,n.Lk)("button",{class:(0,X.C4)(["btn",r.task.taskStatus])},(0,X.v_)("smallwarning"===r.task.taskStatus?"Выполняется":"smalldanger"===r.task.taskStatus?"Отменен":"smalldone"===r.task.taskStatus?"Завершен":"Активен"),3)]),(0,n.Lk)("h4",null,"Дэдлайн: "+(0,X.v_)(r.task.taskDate),1),(0,n.Lk)("h4",null,[B,(0,n.eW)((0,X.v_)(r.task.taskContent),1)]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=(...t)=>r.toWork&&r.toWork(...t))},"Взять в работу"),(0,n.Lk)("button",{class:"btn primary",onClick:a[1]||(a[1]=(...t)=>r.done&&r.done(...t))},"Завершить"),(0,n.Lk)("button",{class:"btn danger",onClick:a[2]||(a[2]=(...t)=>r.cancelled&&r.cancelled(...t))},"Отменить")])])):((0,n.uX)(),(0,n.CE)("div",H,[(0,n.bF)(u,{taskId:s.taskId},{default:(0,n.k6)((()=>[(0,n.eW)('Задача с id: "'+(0,X.v_)(s.taskId)+'" не существует',1)])),_:1},8,["taskId"])]))}const Z=t=>((0,n.Qi)("data-v-37a1ab10"),t=t(),(0,n.jt)(),t),tt={class:""},at={key:0,class:"q"},st={key:1,class:"card"},et={class:"notFoundPage"},nt=Z((()=>(0,n.Lk)("button",{class:"btn"},"Перейти",-1)));function ot(t,a,s,e,o,r){const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",tt,[s.taskId?((0,n.uX)(),(0,n.CE)("h2",at,[(0,n.RG)(t.$slots,"default",{},void 0,!0)])):((0,n.uX)(),(0,n.CE)("div",st,[(0,n.Lk)("h3",et,[(0,n.eW)("Такой страницы нет, перейдите на главную "),(0,n.bF)(u,{to:"/"},{default:(0,n.k6)((()=>[nt])),_:1})])]))])}var rt={props:["taskId"]};const ut=(0,h.A)(rt,[["render",ot],["__scopeId","data-v-37a1ab10"]]);var it=ut,lt={props:["tasks","taskId"],data(){return{newStatus:""}},methods:{async toWork(){this.task.taskStatus="smallwarning",this.newStatus="smallwarning",await k.A.put(`https://vuecreatetask-default-rtdb.firebaseio.com/tasks/${this.taskId}.json`,{taskContent:this.task.taskContent,taskDate:this.task.taskDate,taskName:this.task.taskName,taskStatus:this.newStatus})},async done(){this.task.taskStatus="smalldone",this.newStatus="smalldone",await k.A.put(`https://vuecreatetask-default-rtdb.firebaseio.com/tasks/${this.taskId}.json`,{taskContent:this.task.taskContent,taskDate:this.task.taskDate,taskName:this.task.taskName,taskStatus:this.newStatus})},async cancelled(){this.task.taskStatus="smalldanger",this.newStatus="smalldanger",await k.A.put(`https://vuecreatetask-default-rtdb.firebaseio.com/tasks/${this.taskId}.json`,{taskContent:this.task.taskContent,taskDate:this.task.taskDate,taskName:this.task.taskName,taskStatus:this.newStatus})}},computed:{task(){return this.tasks.find((t=>t.id===this.taskId))}},components:{NotFound:it}};const kt=(0,h.A)(lt,[["render",Y],["__scopeId","data-v-54d43cee"]]);var ct=kt,dt=(0,y.aE)({history:(0,y.LA)(),routes:[{path:"/",component:G},{path:"/create",component:F},{path:"/task/:taskId?",component:ct,props:!0},{path:"/:notFound(.*)",component:it}],linkActiveClass:"active",linkExactActiveClass:"active"});(0,e.Ef)(g).use(dt).mount("#app")}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(a,e,n,o){if(!e){var r=1/0;for(k=0;k<t.length;k++){e=t[k][0],n=t[k][1],o=t[k][2];for(var u=!0,i=0;i<e.length;i++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](e[i])}))?e.splice(i--,1):(u=!1,o<r&&(r=o));if(u){t.splice(k--,1);var l=n();void 0!==l&&(a=l)}}return a}o=o||0;for(var k=t.length;k>0&&t[k-1][2]>o;k--)t[k]=t[k-1];t[k]=[e,n,o]}}(),function(){s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,{a:a}),a}}(),function(){s.d=function(t,a){for(var e in a)s.o(a,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:a[e]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(a){return 0===t[a]};var a=function(a,e){var n,o,r=e[0],u=e[1],i=e[2],l=0;if(r.some((function(a){return 0!==t[a]}))){for(n in u)s.o(u,n)&&(s.m[n]=u[n]);if(i)var k=i(s)}for(a&&a(e);l<r.length;l++)o=r[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(k)},e=self["webpackChunkapp9"]=self["webpackChunkapp9"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=s.O(void 0,[504],(function(){return s(2798)}));e=s.O(e)})();
//# sourceMappingURL=app.bb88afdb.js.map